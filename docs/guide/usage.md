<!--
 * @FilePath: /vscode插件/autoAPIGenDoc/docs/guide/usage.md
 * @Description: 
-->
# 基础用法

## 快速搜索与刷新接口列表

- 在 **搜索框** 中输入接口名称或接口路径中的关键词，快速过滤需要查看的接口，便于定位。
- 点击 **刷新按钮**，重新调用接口以刷新接口列表。当接口文档更新时，务必点击刷新同步最新的接口信息。

![快速搜索和刷新](./img/image10.png)

---

## 生成接口代码

- **文件夹上的生成接口**：
  - 将生成该文件夹下所有接口及其对应的 TypeScript 类型定义。
  - 若目录不存在，则自动创建；若目录已存在：
    1. 备份文件；
    2. 生成接口文件；
    3. 生成成功后删除备份文件。

- **接口上的生成接口**：
  - 仅生成该接口及其对应的 TypeScript 类型定义。
  - 若接口不存在，则直接生成；
  - 若接口已存在，则执行以下操作：
    1. 删除原接口方法；
    2. 新增该接口。

<div style="display: flex; justify-content: space-between; align-items: center;">
  <img src="./img/image6.png" alt="文件夹生成接口示例" style="width: 48%;" />
  <img src="./img/image7.png" alt="接口生成接口示例" style="width: 48%;" />
</div>

---

## 快速使用接口

- 在接口列表中找到目标接口，点击 **快速使用** 按钮，即可将该接口的引用代码插入到当前激活的编辑窗口中。
- 快速实现接口引用，无需手动编写。

<video controls width="600">
  <source src="./img/录屏2024-12-19 16.37.05.mov" type="video/mp4">
  您的浏览器不支持视频播放，请升级到支持 HTML5 的浏览器。
</video>

---

## 功能扩展

### 复制方法名

- 点击 **复制方法名** 按钮，即可快速将接口方法名复制到剪切板。
- 便于在项目中粘贴使用，无需手动查找。

### 复制接口引用

- 此功能与 **快速使用** 类似，但不会直接插入代码。
- 点击 **复制接口引用**，接口的引用代码将复制到剪切板，开发者可根据需要在项目中手动粘贴使用。

### 查看接口方法

- 在接口列表中，点击 **查看接口方法** 按钮，自动打开对应接口的代码文件。
- 自动定位到该方法的位置，便于快速查看接口的详细配置信息及实现逻辑。

### 批量操作

- 支持批量生成接口代码，提高开发效率。
- 可以选择多个接口或文件夹进行批量操作。

---

## 代码生成说明

### 生成文件结构

接口代码生成时会创建以下文件：

1. **接口函数文件** (`{appName}.ts`)：包含所有生成的接口请求函数
2. **类型定义文件** (`interface.ts`)：包含所有接口参数和响应的 TypeScript 类型定义

### 文件更新机制

- 当接口已存在时，插件会智能更新文件内容：
  1. 保留原有文件内容
  2. 删除旧的接口方法和类型定义
  3. 添加新的接口方法和类型定义
  4. 保持文件其他部分不变

### 代码格式化

- 生成的代码会自动使用 Prettier 进行格式化
- 支持自定义 Prettier 配置
- 默认使用 `prettier-plugin-sort-imports` 和 `prettier-plugin-organize-imports` 插件

---

## 模型支持说明

### Axios 模型

- 生成基于 Axios 的接口请求代码
- 支持自定义 Axios 实例引用路径
- 支持配置返回数据字段

### 微信小程序模型

- 生成基于 `wx.request` 的接口请求代码
- 自动创建微信小程序请求封装文件
- 支持环境变量配置

### 自定义模型

- 支持完全自定义的代码生成逻辑
- 可通过配置自定义返回函数控制生成代码
- 支持拓展函数生成额外的辅助方法

---

## 使用技巧

### 1. 快速定位接口

- 使用搜索功能快速查找接口
- 通过标签分类筛选接口
- 利用刷新功能同步最新接口信息

### 2. 高效生成代码

- 批量生成文件夹下所有接口
- 单独生成特定接口
- 利用快速使用功能直接插入代码

### 3. 代码维护

- 自动生成的代码可安全修改，后续更新不会覆盖自定义修改部分
- 支持增量更新，只更新变更的接口
- 备份机制确保文件更新安全

### 4. 团队协作

- 统一的代码生成规范
- 一致的类型定义
- 简化团队成员上手成本

---

通过以上功能，**AutoAPIGen** 帮助开发者更高效地管理和使用接口代码，大幅提升开发体验。